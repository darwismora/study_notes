¬°Hola! Esta es una lista de comandos que recopil√© durante el curso. Inclu√≠ unos adicionales que encontr√© mientras pr√°cticaba el contenido de las clases, y tambien les dej√© como bonus un tip de como hacer una papelera de reciclaje funcional el la consola de WSL2.

#Indice

Atajos en la terminal
Comandos de algunas aplicaciones de terceros (incluye WSL2)
Comandos b√°sicos
Navegar por directorios
Editar y crear archivos de texto
Utilidades batch b√°sicas
Utilidades batch avanzadas
Administraci√≥n de procesos
Administraci√≥n de permisos
Descarga e instalaci√≥n de paquetes
Comandos para compresi√≥n de archivos
B√∫squeda de archivos desde la terminal
Comandos HTTP
Acceso seguro a otras computadoras
Variables de entorno
C√≥mo crear nuevos comandos
Programar tareas
Papelera de reciclaje (Bonus)
#1. Atajos en la terminal

Presionar TAB mientras estas escribiendo algo

Efecto: te muestra una lista de los comandos disponibles en el computador que empiezan con esas letras.

Presionar tecla UP

Efecto: pasear por los comandos previamente usados (incluidos los de sesiones anteriores)

Ctrl + Shift + r

Efecto: activa una busqueda hacia atr√°s de todos los comandos que has escrito.

Punto "."

Hace referencia al directorio actual.

Puedes usarlo en lugar de un par√°metro para indicar el directorio actual.

Doble punto "‚Ä¶"

Hace referencia al directorio padre.

Puedes usarlo en lugar de un par√°metro para indicar el directorio padre.

cd ~

Te desplaza directamente a tu home (la carpeta ra√≠z de tu usuario en el OS) (~ = alt+126)

cd -

Te desplaza al √∫ltimo directorio visitado

cd ‚Ä¶

Te desplaza al directorio padre del directorio actual. (una carpeta hacia afuera)

<

‚ÄúRedireccionar la entrada‚Äù. Ingresa el contenido del archivo de la derecha como input para el comando de la izquierda.

Ej:
mysql -h 127.0.0.1 -u root -p1234 < dump1.sql

En este ejemplo, estas ejecutando el script de dump1.sql en el servidor local de MySQL

>

‚ÄúRedireccionar la salida‚Äù.

Introduces el resultado del comando de la izquierda en el archivo de la derecha.

Ej:
ls > test.txt

En este ejemplo estas escribiendo la lista de archivos en el directorio actual directamente en el archivo de texto.

OJO: Si usas ‚Äú>>‚Äù, introduces el resultado del comando al final del contenido del archivo (en lugar de sobreescribir)

Pipes (" | ")
Toma la salida de un proceso y se la pasa como entrada al siguiente proceso. (tambien puedes escribir ‚Äú|‚Äù con alt+124)

Ejemplo:
head -n1 text.txt | wc

En este ejemplo la terminal toma la primera l√≠nea del archivo text.txt, y a eso le aplica el wc.

‚Äú&‚Äù al final del comando

Hace que el proceso se ejecute en segundo plano.

Ej:
mysql -h 127.0.0.1 -u root -p1234 < dump1.sql &

Ctrl+z

Env√≠a al proceso que est√© en ejecuci√≥n al Background.

Puedes regresar el proceso al foreground con el comando fg

Ctrl+c

Detiene el proceso que se est√© ejecutando en el foreground

Ejecutar un archivo ejecutable

Para ejecutar un archivo ejecutable, basta con introducir la ruta del archivo como si fuera un comando.

Ej: ./hello.php

source tambien es un comando que ejecuta en la terminal el archivo que escribas a continuaci√≥n. Necesitar√°s usarlo si decides crear comandos que incluyan un desplazamiento entre carpetas

Ej: source proyectos.sh

sudo

En Unix, existe un super usuario en cada ordenador llamado el usuario root, el cual puede leer y escribir en todos los archivos del computador, y es el √∫nico habilitado con ciertos permisos.

sudo es un prefijo que se puede escribir antes del comando para ejecutarlo con permisos del usuario root.

Ej: sudo chown mistofjoy test.txt

> /dev/null

Env√≠a el resultado del comando al archivo /dev/null, que es un archivo tipo agujero negro que descarta todo lo que se introduce en √©l.

El archivo /dev/null puede usarse como un intermediario de procesos complejos.

Ctrl+l

Desplaza la pantalla hacia abajo para liberarla de texto

#2. Comandos de algunas aplicaciones de terceros

code .
Abre Visual Studio Code posicionado en en directorio donde corriste el c√≥digo.

code <archivo>

Abre el archivo que introduciste en visual studio code

wslview
Si estas en wsl2, te permite abrir el archivo que indiques a cotinuaci√≥n con aplicaciones nativas de windows 10

Escritura:
wslview + <RutaArchivo>

Ejemplo:
wslview blogpost.html

Lynx
Accede al sitio web que indiques a continuaci√≥n a trav√©s del navegador lynx

Ojo: necesitas haber descargado lynx para hacerlo.

Escritura:
Lynx + sitio web

Ejemplo:
Lynx platzi.com

#3. Comandos b√°sicos

**date **
Nos muestra la fecha de hoy.

Escritura:
Date

Ej:
date

echo
Muestra un mensaje en la pantalla.

Escritura:
echo + ‚Äúmensaje entre comillas‚Äù

Ej:
echo "¬°hola! ¬øC√≥mo est√°s?"

**man **
Muestra un manual sobre otros comandos.

Escritura:
man + comando

Ej:
man date

history
muestra un listado con todos los comandos que has escrito alguna vez. Luego puedes volver a ejecutar un comando antiguo seg√∫n el n√∫mero de la lista.

Escritura:
History
! + #comandoEnLista

Ej:
history !43

#4. Navegar por directorios

ls
"list directory contents". Muestra una lista de los archivos contenidos en en directorio donde estas navegando.

cuando un archivo empieza por un ‚Äú.‚Äù, el computador lo interpreta como que es un archivo oculto.

La lista de archivos suele contener dos archivos que son ‚Äú.‚Äù y ‚Äú‚Ä¶‚Äù

‚Äú‚Ä¶‚Äù es la direcci√≥n al directorio padre (es decir, te mueve un directorio fuera de donde estas)

‚Äú.‚Äù es la direcci√≥n al directorio actual.

Escritura:
ls

Extensiones:
1. ls -a: muestra archivos ocultos
2. Ls -l: muestra los metadatos del archivo (que usuario lo cre√≥, cuando fue creado, etc.) (Si la l√≠nea empieza por ‚Äúd‚Äù entonces es un directorio)
3. Ls -t: ordena los archivos por fecha de modificaci√≥n
4. Ls -x: ordena los archivos primero por nombre y despues por extensi√≥n
5. Ls -X: ordena los archivos primero por extensi√≥n y luego por nombre
6. Ls -l: Muestra toda la informaci√≥n (usuario, grupo, permisos, tama√±o, fecha y hora de creaci√≥n.
7. Ls -lh: Muestra la misma informaci√≥n que ls -l, pero con las unidades de tama√±o en KB, MB
8. Ls -R: Muestra el contenido de todos los subdirectorios de forma recursiva
9. Ls -S: Ordena los resultados por tama√±o de archivo.

Ejemplo:
ls
ls -a

pwd
"Print name of current/working directory" te muestra la direcci√≥n del directorio donde estas parado.

Escritura:
pwd

Ejemplo:
pwd

cd
"Change directory", te desplaza a la direcci√≥n que escribas a continuaci√≥n del comando.

Si escribes ‚Äúcd ~‚Äù (alt+126), la consola te desplazar√° directamente a tu home.

Si escribes ‚Äúcd -‚Äù la consola te desplazar√° al √∫ltimo directorio visitado.

Escritura:
cd + path

Ejemplo:
cd ~/proyecto1

mkdir
"Make directories", crea un directorio con el nombre que indiques a continuaci√≥n (si es que no existe a√∫n)

Escritura:
mkdir + NombreNuevoDirectorio

Ejemplo:
mkdir personalProjects

cp
"copy files or directories", copia un archivo en la direcci√≥n indicada.

Ojo: para copiar carpetas, necesitas la extensi√≥n -r. Solo asi podr√°s copiar todo el contenido de la carpeta a la ubicaci√≥n destino.

Escritura:
cp + NombresDeArchivos + RutaDestino

Extensiones:
1. -r: copia recursiva. Hace una copia del directorio seleccionado con todo su contenido, y la env√≠a al directorio destino.

Ejemplo:
cp test.py test/

rm
"Remove files or directories", borra el archivo indicado a continuaci√≥n.

Arrojar√° un error si intentas borrar un directorio

Escritura:
rm + NombreDelArchivoODirectorio

Extensiones:
1. -i: te pregunta antes de remover el archivo
2. -f: remueve forzosamente lo indicado, sin preguntar.
3. -r: remueve directorios

Ejemplo:
rm test.py

mv
"Move (rename) files". Mueve archivos o directorios de una direcci√≥n a otra. Hace la operaci√≥n de borrar y copiar a la vez.

Ojo, las rutas que escribas en el comando deben incluir el nombre del archivo.

Puedes renombrar el archivo si le cambias el nombre en la ruta destino.

Escritura:
mv + rutaOrigen + rutaDestino

Extensiones:
1. -i: te pregunta antes de sobre-escribir
2. -f: No pregunta antes de sobre-escribir

Ejemplo:
mv ../test.py .
(mueve el archivo ‚Äútest.py‚Äù del directorio padre al directorio actual)

rmdir
"Remove empty directories", borra un directorio vac√≠o

No puedes borrar directorios con contenido dentro. Antes tienes que borrar el contenido.

Escritura:
rmdir + nombre del directorio

Ejemplo:
rmdir test

#5. Editar y crear archivos de texto

touch
Crea un archivo con el nombre y extensi√≥n que indiques a continuaci√≥n.

Ojo, puedes crear archivos de texto sin extensi√≥n. Estos se suelen usar para crear comandos.

Escritura:
touch + nombreDelArchivo.txt

Ejemplo:
touch test.txt

vim
Inicia un editor de texto interactivo (VIM) que te permite editar el texto de un archivo desde la terminal.

OJO: puedes crear un archivo nuevo si usas la funci√≥n para entrar en un archivo que no existe (y vas a crear)

Escritura:
Vim + nombreDelArchivo

Comandos internos de vim:
1. ‚Äú:‚Äù activa el modo de comandos
2. ‚Äúi‚Äù inicia el modo de insertar texto.
3. ‚Äú:w‚Äù guarda el contenido del archivo.
4. Esc (tecla ‚Äúescape‚Äù): termina el modo en ejecuci√≥n
5. ‚Äú:q‚Äù sale del editor de texto vim
6. ‚Äú:x‚Äù guardar y salir

Ejemplo:
vim test.txt

nano
Inicia un editor de texto interactivo que te permite editar el texto de un archivo desde la terminal.

Este tiene en pantalla una librer√≠a de comandos para usar.

Esta te lanza al modo edici√≥n de una vez, y te pregunta si quieres guardar los cambios antes de salir.

Escritura:
nano + nombreDelArchivo

Comandos internos:
1. Ctrl+x: salir del programa

Ejemplo:
nano test.txt

#6. Utilidades batch b√°sicas

cat
Muestra en la terminal el contenido completo de un archivo de texto

Escritura:
cat + nombreDelArchivo.txt

Ejemplo:
cat test.txt

head
Muestra en la terminal las primeras lineas de un archivo de texto. Por defecto muestra las primeras 10 l√≠neas.

Extensiones:
1. ‚Äú-n #‚Äù muestra las primeras # l√≠neas del archivo (ejemplo: ‚Äú-n 5‚Äù muestra las primeras 5 l√≠neas)

Escritura:
Head + extensi√≥n + nombreDelArchivo.txt

Ejemplo:
Head -n 1 test.txt

**tail **
Muestra en la terminal las √∫ltimas l√≠neas de un archivo de texto. Por defecto muestra las √∫ltimas 10 l√≠neas.

Extensiones:
1. ‚Äú-n #‚Äù muestra las √∫ltimas # l√≠neas del archivo (ejemplo: ‚Äú-n 5‚Äù muestra las primeras 5 l√≠neas)

Escritura:
tail + extensi√≥n + nombreDelArchivo.txt

Ejemplo:
tail -n 1 test.txt

wc
"print newline, word, and byte counts for each file" Muestra las l√≠neas, word count, y byte count de un archivo de texto.

Escritura:
wc + extensi√≥n + nombreDelArchivo.txt

Ejemplo:
wc test.txt

more
Muestra en la terminal el contenido completo de un archivo de texto, pero navegando por √©l un screenful a la vez.

Puedes avanzar las p√°ginas con la tecla SPACE, y dejar de navegar por el documento (si es muy largo) con la q)

Se usa mucho luego de un pipe para leer mejor el resultado de una operaci√≥n

Escritura:
more + extensiones + nombreDelArchivo.txt

Ejemplo:
more test.txt

#7. Utilidades batch b√°sicas

grep
"Busqueda por expresiones regulares". Busca en el archivo una l√≠nea con la expresi√≥n que indiques

Si tienes la nueva windows terminal (de la microsoft store), entonces la palabra que buscas se resaltar√° en naranja.

Si escribes lo que buscas entre comillas y terminando con ‚Äú$‚Äù, la busqueda ser√° por expresiones que terminen en lo que escribiste (Ej: grep "hanks$" dump1.spl)

Escritura:
grep + expresi√≥nRegular + archivoDondeBuscar√°s

Extensiones:
1. ‚Äú-i‚Äù hace que la busqueda no tome en cuenta mayusculas o minusculas

Ejemplo:
grep Hanks dump1.sql

(busca la expresi√≥n "Hanks en el archivo dump1.sql)

sed
"String editor". Te ayuda a trabajar sobre el flujo de caracteres. Puedes usarlo para reemplazar una expresi√≥n por otra.

OJO: esto no modifica el archivo original. Solo modifica la lectura cuando usas el comando.

Escritura:
Primero abres un apostrofe (‚Äô), luego indicas que quieres hacer una sustituci√≥n (s/), informas del t√©rmino que vas a cambiar (Hanks/) y del termino con el que lo vas a sustituir (Selleck/). Luego cierras el apostrofe (‚Äô)

Puedes agregar una extensi√≥n antes del apostrofe si quieres, para que la sustituci√≥n se haga a lo largo de todo el archivo (g)

Ejemplo:
sed 's/Hanks/Selleck/g' dump1.sql

Cambia todas los string que contengan ‚ÄúHanks‚Äù en el archivo dump1.sql y los reemplaza por ‚ÄúSelleck‚Äù

awk
Se usa para modificar archivos estructurados (separados por comas o tabs por ejemplo. Uno de estos son los .csv)

Ejemplo:
awk -F ';' '{ print $1 }' nuevasPelis.csv

#8. Administraci√≥n de procesos

fg
"Foreground"
Toma un proceso que est√° ejecutandose en el background y lo trae al foreground

Escritura:
fg

Ej:
fg

ps
"Report a snapshot of the current processes".

Muestra un reporte de los procesos ejecutandose al momento de ingresar el comando.

Escritura:
ps

Ejemplo:
ps

top
"display linux processes"

Utilidad interactiva que te muestra como est√° actualmente el uso del computador. (procesos en ejecuci√≥n. Memoria en uso. Etc.)

(Sales con la ‚Äúq‚Äù)

Escritura:
top

Ejemplo:
top

kill
Termina el proceso que indiques a continuaci√≥n

Para usarlo, necesitas identificar el processID (PID) del proceso que quieres terminar. Puedes ver los processID con el comando ‚Äúps‚Äù

Escritura:
Kill + identificadorDelProceso(PID)

Ejemplo:
Kill 58

killall
Termina el proceso que inici√≥ el ejecutable que indiques a continuaci√≥n.

Para usarlo, necesitas conocer el nombre del archivo que inici√≥ el proceso.

Escritura:
Killall + NombreArchivo

Ejemplo:
Killall colgado.php

#9. Administraci√≥n de permisos

chmod
Modifica manualmente los permisos

Escritura (modo textual):
Chmod + usuario (due√±o, grupo, otherst) + ‚Äú+/-‚Äù + Permiso a agregar o remover + archivo a modificar

u: refiere al due√±o
g: refiere al grupo
o: refiere a otros
a: refiere a todos
-vacio-: refiere a todos (ocurre cuando no se indica ning√∫n usuario en el comando)

-: remueve un permiso
+: agrega un permiso

r: refiere a lectura
w: refiere a escritura
x: refiere a ejecuci√≥n

Ejemplo (textual):
Chmod o-w nuevo.txt

En este ejemplo se le quita el permiso de editar el archivo a otros

Escritura (binario):
Permite modificar los permisos para todos los usuarios con un solo comando.

Los permisos de un usuario se rigen por una matriz binaria que al final representa un n√∫mero (ningun permiso es un 0, solo lectura es un 4, lectura y escritura es un 6, y todos los permisos es un 7)

Hacer el comando en binario te pide una combinaci√≥n de tres n√∫meros que configura los permisos para todos los usuarios

Chmod + combinaci√≥n de n√∫meros seg√∫n permisos + archivo

Se usa una combinaci√≥n de 3 n√∫meros. El primero habla de los permisos del due√±o, el segundo habla de los permisos del grupo, y el √∫ltimo de los permisos de otros.

Ejemplo (binario):
Chmod 760 hello.php

En este ejemplo se le da al due√±o todos los permisos, el grupo puede leer y escribir, y otros no pueden hacer nada.

chown
Cambia el propietario del archivo. Solo lo puede ejecutar el usuario root (escribiendo sudo antes del comando)

Escritura:
Chown + usuario del nuevo due√±o + archivo

Ejemplo:
Sudo chown mistofjoy test.txt

Convierte al usuario mistofjoy en el due√±o del archivo test.txt

chgrp
Cambia el grupo de usuarios que pueden acceder al archivo

Solo lo puede ejecutar el usuario root (escribiendo sudo antes del comando)

Escritura:
Chgrp + usuario del nuevo due√±o + archivo

Ejemplo:
Sudo chgrp www-data test.txt

Cambia el grupo asociado a test.txt para solo incluir al usuario www-data

#10. Descarga e instalaci√≥n de paquetes

Apt install
Instala el programa que indiques a continuaci√≥n, siempre y cuando sea un paquete administrado por apt

Ojo: solo lo puede ejecutar el usuario root

Escritura:
Apt install + nombre del paquete

Ejemplo:
sudo apt install lynx

Apt update
Se usa para instalar paquetes de datos para actualizar el sistema.

Apt upgrade
Se usa para instalar los paquetes descargados para actualizar el sistema.

#11. Comandos para compresi√≥n de archivos

gzip
Comprime un archivo indicado a continuaci√≥n en formato .gz

Extensiones:
1. ‚Äú-d‚Äù restaura el archivo a su forma original

Esctritura:
gzip + archivo

Ejemplo:
gzip dump4.sql

tar
Agrupa archivos en un nuevo archivo .tar

Ojo: Esto no comprime a no ser que uses el parametro ‚Äúczf‚Äù, de lo contrario solo agrupa.

Parametros:
1. ‚Äúcf‚Äù: crea un archivo con el nombre que indiques a continuaci√≥n que comprima a los archivos de la ruta que indiques.
2. ‚Äútf‚Äù: te permite ver el contenido del archivo comprimido que indiques a continuaci√≥n
3. ‚Äúxf‚Äù: Extract file. Extrae los archivos comprimidos en un .tar
4. ‚Äúczf‚Äù combina y comprime los archivos indicados en un nuevo archivo .tgz
5. ‚Äúxzf‚Äù descombina y descomprime el contenido de un archivo .tgz

Escritura (combinar):
Tar + cf (create file) + nombre del archivo comprimido + ruta de los archivos a comprimir

Ejemplo (combinar):
Tar cf backup.tar backup/*

Crea un archivo llamado backup.tar que comprime todos los archivos ubicados en el directorio backup/

Ejemplo (revisar archivo):
Tar tf backup.tar

Revisa el contenido del archivo comprimido backup.tar

Ejemplo (extraer):
tar xf backup.tar

Extrae los archivos de backup.tar en la direcci√≥n actual

Ejemplo (combinar y comprimir):
Tar czf backup.tgz backup/

Combina y comprime los archivos en el directorio ./backup/ en un nuevo archivo llamado backup.tgz

Ejemplo (extraer):
tar xzf backup.tgz

Extrae los archivos de backup.tgz en la direcci√≥n actua

#12. Busqueda de archivos desde la terminal

locate
Busca un archivo a partir del nombre del archivo que buscas.

Si no encuentra nada, simplemente no muestra nada.

Locate utiliza una base de datos interna de ubuntu para ubicar los archivos. Si no est√° actualizada, no podr√°s buscar nada con locate.

Para actualizar la base de datos, utilizas: sudo updatedb

Escritura
Locate + nombre del archivo

Ejemplo
Locate hello.php

whereis
Se utiliza para ubicar archivos binarios (comandos). Se usa principalmente con ejecutables versionados muy similares entre si.

Escritura
whereis + comando

Ejemplo
whereis echo

find
Busca en un arbol de directorios siguiendo varios parametros.

Escritura
Find + directorio donde buscar√°s + nombre del archivo o parametros

Parametros
1. ‚Äú-user‚Äù + usuario: busca los archivos del usuario indicado
2. ‚Äú-perm‚Äù + permisos en binario (ej: 644): busca los archivos con esa configuraci√≥n de permisos.
3. ‚Äú-type‚Äù + tipo de archivo: busca directorios (d), archivos (f), entre otros
4. ‚Äú-mtime‚Äù + Numero de d√≠as transcurridos desde la √∫ltima modificaci√≥n: permite buscar archivos en funcion a la ultima modificaci√≥n. Por ejemplo, +7 busca archivos modificados hace mas de 7 d√≠as, y -7 busca archivos modificados hace menos de 7 d√≠as
5. ‚Äú-exec‚Äù + otro comando: Ejecuta el comando descrito a continuaci√≥n sobre los archivos resultado de la b√∫squeda.

OJO: Los archivos resultado de la busqueda pueden ser descritos como {}

OJO: debes finalizar el comando con un ;

Ejemplos
Find . -user mistofjoy -perm 644

Buscan todos los archivos de mistofjoy con matriz de permisos 644

Find . -type f -mtime +7 -exec cp {} ./backup/ \;
Busca solo archivos modificados hace mas de 7 d√≠as y los copia a la carpeta backup/ del directorio actual.

#**13. Comandos HTTP

curl
Se usa para pedir algo al servidor y obtener la respuesta en pantalla

Escritura
curl + nombre de dominio

Extensiones
1. -v: devuelve toda la comunicaci√≥n v√≠a http

Ejemplo
curl https://platzi.com

Te muestra lo que el navegador recibe cuando entra a platzi.com (html)

wget
Se usa para realizar descargas desde servidores HTTP

Escritura
wget + url con el archivo a descargar

Ejemplo
wget https://www.php.net/distributions/php-7.3-10.tar.bz2

Descarga el archivo php-7.3-10.tar.bz2 de la ubicaci√≥n introducida en internet

#14. Acceso seguro a otras computadoras

ssh
"Secure shell", conecci√≥n segura o terminal segura.

Cuando lo ejecutas, te conectas directamente a la terminal de tu servidor remoto, donde funcionaran los mismos comandos de siempre.

Ojo, todos los comandos que insertes alli se ejecutaran en el otro servidor.

Ojo: si configuras la conecci√≥n con tu llave p√∫blica y privada, puedes ingresar con la abreviatura de la conecci√≥n

Escritura
ssh + usuario + @host (IP) + contrase√±a

exit
Termina la ejecuci√≥n de la terminal. En tu computadora esto solo cierra la terminal. Pero cuando estas conectado a un servidor, esto cierra sesi√≥n en el servidor y te regresa a tu terminal.

Escritura
exit

Ejemplo
exit

mail
Env√≠a un correo electronico.

Ojo: necesitas configurar varias cosas para que funcione, pero desde un servidor preparado para hosting deber√≠as tener todo lo necesario ya listo.

escritura
Mail + extensiones + correo destino + contenido

Extensiones
1. -s: indica el subject a continuaci√≥n entre ‚Äú‚Äù

Ejemplo
echo "probando" | Mail -s "probando para platzi" mchojrin@hotmail.com

Env√≠a por correo electronico el mensaje ‚Äúprobando‚Äù con el subject ‚Äúprobando para platzi‚Äù a mchojrin@hotmail.com

#15. Variables de entorno

##Asignaci√≥n global

export
Permite asignar globalmente una variable de entorno para toda la sesi√≥n.

Ojo, para que la terminal distinga a una variable del texto com√∫n, debemos utilizar el simbolo $ al empezar a escribirla. (Ej: $PATH)

Escritura
export VAR=valor

Donde:
1. VAR: nombre de la variable
2. valor: el valor que queremos darle

Ejemplo
export MI_VAR=Mauro

Esto crea la variable $MI_VAR, la cual ser√° v√°lida por toda la sesi√≥n (Por ejemplo, podr√≠as probar echo $MI_VAR)

##Asignaci√≥n particular
Puedes modificar el valor de una variable de entorno que creaste para ejecutar un √∫nico comando.

Esto es practico cuando quieres que un comando se ejecute con la variable diferente, pero no quieres que los dem√°s comandos que le sigan se vean alterados.

VAR=valor + comando
Con esto puedes alterar el valor de la variable antes de ejecutar un comando.

Ejemplo
MI_VAR=/home php env.php

Ojo, en este caso, el archivo env.php muestra el contenido de MI_VAR en pantalla (y en la clase funcion√≥).

Esto significa que este comando si cambia el valor de la variable.

#16. C√≥mo crear nuevos comandos

Puedes crear un archivo de texto plano con los comandos que vas a ejecutar, y luego invocar a este archivo como si fuera un comando.

Ojo, tus comandos pueden tener una extensi√≥n de archivo o no. Basta con crearlos con VIM y ya est√°.

Puedes crear los archivos en el vim

Primero, crea el archivo con el comando que vayas a crear.

Ejemplo:
vim practicar

Luego, en la primera l√≠nea, empieza el archivo declarando el interprete (Bash):

#!/usr/bin/bash

A continuaci√≥n, introduce la cadena de comandos que la terminal va a usar para ejecutar el nuevo comando que acabas de crear.

Ejemplo

Vim platzi.sh

Platzi.sh:

#!/usr/bin/bash

NEW_DIR=platzi

if [ ! -d "/root/$NEW_DIR" ]; then
Mkdir /root/$NEW_DIR;
fi

cp backup_code.sh /root/$NEW_DIR/
echo "`date`: Todo listo jefe!"
Ojo, cuando termines de escribir el archivo, seguramente no tendr√°s a√∫n permiso de ejecuci√≥n.

Tienes que habilitarlo luego de crearlo.

OJO, tienes que escribir la direcci√≥n correcta del Bash al inicio del archivo del comando para que funcione.

Puedes buscar la ruta con el comando whereis bash

En mi caso la ruta es /usr/bin/bash

Programar comandos en el PATH
Hay un archivo en el home que se ejecuta cada vez que inicia la terminal llamado .bashrc

No contiene nada, y puedes editarlo para que ejecute funciones que tu desees cada vez que inicie.

Un uso pr√°ctico de √©l es agregando al $PATH la direcci√≥n de tus nuevos comandos. Asi podr√°s ejecutar tus archivos como comandos.

Solo escribe en la primera l√≠nea:
export PATH=$PATH:ruta-de-tus-comandos

(Ej: export PATH=$PATH:/home/mistofjoy/.commands)

De este modo, la direcci√≥n de tus comandos se agregar√° al PATH cada vez que abras la terminal.

OJO: La terminal de windows configura en el .bashrc todos los colores y las funcionalidades adicionales.

Si revisas bien el archivo, ver√°s que este ejecuta un segundo archivo (que inicialmente no existe) llamado .bash_aliases

Ah√≠ puedes hacer la configuraci√≥n que necesites del PATH.

source
Lee y ejecuta el contenido de un archivo (generalmente un script de comandos), ejecutandolos dentro de la terminal.

Escritura
Source + ruta del archivo a ejecutar

Ejemplo
Source ./personalProjects/project.sh

NOTA
Cre√© una carpeta oculta en el home llamada ‚Äú.commands‚Äù donde almacenar mis comandos

Tambien program√© el archivo .bash_aliases para incluir la carpeta .commands en el $PATH

Ahora puedo ejecutar mis propios comandos siempre y cuando coloque su nombre.

OJO: los comandos de desplazamiento entre carpetas necesitan ejecutarse con un source antes.

Ej:
source project.sh

#17. Programar tareas

at
Te permite programar una tarea para que se ejecute en el tiempo que indiques a continuaci√≥n

Escritura
At + tiempo para ejecutar el comando

Al pulsar enter, se abrir√° una secci√≥n de script donde podr√°s introducir los comandos de la tarea programada.

Cierras el script con ctrl+d

Ejemplo

At now +2 minutes

At> echo "hola mundo!" > /home/mauro/hola.txt
Esto programa a la terminal para que en 2 minutos introdusca ‚Äúhola mundo!‚Äù como el contenido del nuevo archivo hola.txt

cron
Permite programar comandos para que se ejecuten de forma periodica.

Cron no se utiliza como un comando. Simplemente es un servicio que ejecuta lo que hayas programado en el crontab.

crontab
Invoca la lista de comandos y archivos que puede ejecutar el comando cron.

Escritura
crontab

Extensiones
1. -e: permite editar la lista
2. -r: remueve el crontab actual
3. -l: muestra el contenido del crontab
4. -u: te permite introducir el nombre del usuario cuyo crontab quieres ver. (si no indicas uno, √©l por defecto abre el tuyo).

ejemplo
crontab -e

Los comandos en crontab funcionan programando primero cuando va a ocurrir cada uno:

Minutos de la hora + horas del d√≠a + d√≠a del mes + mes del a√±o + d√≠a de la semana

Si introduces ‚Äú*‚Äù, cron lo tomar√° como que es todos los d√≠as de la semana, o meses en el a√±o, etc.

Ejemplo
45 12 * * * echo "hola" > hola2.txt

Significa a las 12:45 de todos los d√≠as del mes, todos los meses del a√±o, y todos los d√≠as de la semana; el mensaje ‚Äúhola‚Äù se grabar√° en el archivo hola2.txt

#18. Papelera de reciclaje (Bonus)

¬°Cre√© una papelera de reciclaje!

Esto me alegr√≥ porque, cuando usas el comando rm, los archivos simplemente desaparecen sin que puedas localizarlos de nuevo.

En la carpeta .commands/ que previamente cre√© en el home y que agregu√© al PATH en la secci√≥n anterior, introduje un nuevo comando llamado trash

(Ojo, tienes que tener permiso de ejecuci√≥n para ejecutar ese comando).

Luego de eso cre√© una carpeta en el home llamada .trash/, y luego configur√© el comando trash con el siguiente script:

#!/usr/bin/bash

mv $1 ~/.trash/;
Ahora, cuando quieran enviar algo a la papelera de reciclaje, solo tienen que insertar el siguiente comando:

trash <nombre-del-archivo>

Ahora, sus archivos se moveran a la carpeta .trash/ en lugar de desaparecer con el comando rm.

Ojo, ahora tendr√°s que limpiarla de vez en cuando. Aunque tambien puedes configurar el crontab para que la limpie de forma recurrente.

Ojo, el $1 en el c√≥digo del archivo significa que usa el primer argumento que introduces luego del comando. Asi que es posible que ese c√≥digo no funcione si deseas borrar varios archivos con el mismo comando.

Debe haber un modo mejor de escribirlo. Si te interesa puedes investigar m√°s por tu cuenta, o compartir la soluci√≥n en los comentarios si deseas contribuir con la soluci√≥n üòÉ
